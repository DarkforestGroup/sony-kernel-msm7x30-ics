--- arch/x86/kernel/quirks.c
+++ arch/x86/kernel/quirks.c
@@ -499,7 +486,6 @@
 {
 	struct pci_dev *nb_ht;
 	unsigned int devfn;
-	u32 node;
 	u32 val;
 
 	devfn = PCI_DEVFN(PCI_SLOT(dev->devfn), 0);
@@ -508,13 +494,7 @@
 		return;
 
 	pci_read_config_dword(nb_ht, 0x60, &val);
-	node = val & 7;
-	/*
-	 * Some hardware may return an invalid node ID,
-	 * so check it first:
-	 */
-	if (node_online(node))
-		set_dev_node(&dev->dev, node);
+	set_dev_node(&dev->dev, val & 7);
 	pci_dev_put(nb_ht);
 }
 
